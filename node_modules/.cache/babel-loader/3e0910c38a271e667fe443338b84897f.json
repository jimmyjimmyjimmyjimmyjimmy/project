{"ast":null,"code":"var _jsxFileName = \"/Users/WAVE/Documents/project/src/containers/Account/AuthBtn/microsoftAuthBtn.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport MicrosoftOfficeIcon from 'mdi-react/MicrosoftOfficeIcon';\nimport { auth, authError } from '@/redux/actions/authActions';\nimport { PublicClientApplication } from '@azure/msal-browser';\nimport microsoftAuthSettings from '../../../config/microsoft';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MicrosoftAuthBtn = ({\n  dispatch,\n  history\n}) => {\n  const msalInstance = new PublicClientApplication(microsoftAuthSettings);\n\n  const onClick = async () => {\n    try {\n      const {\n        account: {\n          username\n        },\n        accessToken\n      } = await msalInstance.loginPopup({\n        redirectUri: microsoftAuthSettings.redirectUri\n      });\n      dispatch(auth({\n        name: username\n      }));\n      localStorage.setItem('runbeaconrun', accessToken);\n      history.push('/online_marketing_dashboard');\n    } catch (e) {\n      dispatch(authError(e.message));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    type: \"button\",\n    className: \"account__social-btn account__social-btn--office\",\n    onClick: onClick,\n    children: /*#__PURE__*/_jsxDEV(MicrosoftOfficeIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n\n_c = MicrosoftAuthBtn;\nMicrosoftAuthBtn.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    action: PropTypes.string.isRequired,\n    push: PropTypes.func.isRequired\n  }).isRequired\n};\nexport default withRouter(connect()(MicrosoftAuthBtn));\n\nvar _c;\n\n$RefreshReg$(_c, \"MicrosoftAuthBtn\");","map":{"version":3,"sources":["/Users/WAVE/Documents/project/src/containers/Account/AuthBtn/microsoftAuthBtn.jsx"],"names":["React","PropTypes","withRouter","connect","MicrosoftOfficeIcon","auth","authError","PublicClientApplication","microsoftAuthSettings","MicrosoftAuthBtn","dispatch","history","msalInstance","onClick","account","username","accessToken","loginPopup","redirectUri","name","localStorage","setItem","push","e","message","propTypes","func","isRequired","shape","action","string"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,mBAAP,MAAgC,+BAAhC;AACA,SAASC,IAAT,EAAeC,SAAf,QAAgC,6BAAhC;AACA,SAASC,uBAAT,QAAwC,qBAAxC;AACA,OAAOC,qBAAP,MAAkC,2BAAlC;;;AAEA,MAAMC,gBAAgB,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAD,KAA2B;AAClD,QAAMC,YAAY,GAAG,IAAIL,uBAAJ,CAA4BC,qBAA5B,CAArB;;AAEA,QAAMK,OAAO,GAAG,YAAY;AAC1B,QAAI;AACF,YAAM;AAAEC,QAAAA,OAAO,EAAE;AAAEC,UAAAA;AAAF,SAAX;AAAyBC,QAAAA;AAAzB,UAAyC,MAAMJ,YAAY,CAACK,UAAb,CAAwB;AACzEC,QAAAA,WAAW,EAAEV,qBAAqB,CAACU;AADsC,OAAxB,CAArD;AAGAR,MAAAA,QAAQ,CAACL,IAAI,CAAC;AAAEc,QAAAA,IAAI,EAAEJ;AAAR,OAAD,CAAL,CAAR;AACAK,MAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCL,WAArC;AACAL,MAAAA,OAAO,CAACW,IAAR,CAAa,6BAAb;AACD,KAPD,CAOE,OAAOC,CAAP,EAAU;AACVb,MAAAA,QAAQ,CAACJ,SAAS,CAACiB,CAAC,CAACC,OAAH,CAAV,CAAR;AACD;AACF,GAXD;;AAaA,sBACE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAC,iDAFZ;AAGE,IAAA,OAAO,EAAEX,OAHX;AAAA,2BAKE,QAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,UADF;AASD,CAzBD;;KAAMJ,gB;AA2BNA,gBAAgB,CAACgB,SAAjB,GAA6B;AAC3Bf,EAAAA,QAAQ,EAAET,SAAS,CAACyB,IAAV,CAAeC,UADE;AAE3BhB,EAAAA,OAAO,EAAEV,SAAS,CAAC2B,KAAV,CAAgB;AACvBC,IAAAA,MAAM,EAAE5B,SAAS,CAAC6B,MAAV,CAAiBH,UADF;AAEvBL,IAAAA,IAAI,EAAErB,SAAS,CAACyB,IAAV,CAAeC;AAFE,GAAhB,EAGNA;AALwB,CAA7B;AAQA,eAAezB,UAAU,CAACC,OAAO,GAAGM,gBAAH,CAAR,CAAzB","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport MicrosoftOfficeIcon from 'mdi-react/MicrosoftOfficeIcon';\nimport { auth, authError } from '@/redux/actions/authActions';\nimport { PublicClientApplication } from '@azure/msal-browser';\nimport microsoftAuthSettings from '../../../config/microsoft';\n\nconst MicrosoftAuthBtn = ({ dispatch, history }) => {\n  const msalInstance = new PublicClientApplication(microsoftAuthSettings);\n\n  const onClick = async () => {\n    try {\n      const { account: { username }, accessToken } = await msalInstance.loginPopup({\n          redirectUri: microsoftAuthSettings.redirectUri,\n      });\n      dispatch(auth({ name: username }));\n      localStorage.setItem('runbeaconrun', accessToken);\n      history.push('/online_marketing_dashboard');\n    } catch (e) {\n      dispatch(authError(e.message));\n    }\n  };\n\n  return (\n    <button\n      type=\"button\"\n      className=\"account__social-btn account__social-btn--office\"\n      onClick={onClick}\n    >\n      <MicrosoftOfficeIcon />\n    </button>\n  );\n};\n\nMicrosoftAuthBtn.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    action: PropTypes.string.isRequired,\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default withRouter(connect()(MicrosoftAuthBtn));\n"]},"metadata":{},"sourceType":"module"}